package mybatis;

import java.io.Reader;

import org.apache.ibatis.io.Resources;
import org.apache.ibatis.session.SqlSession;
import org.apache.ibatis.session.SqlSessionFactory;
import org.apache.ibatis.session.SqlSessionFactoryBuilder;
import org.liaohailong.mybatis.User;

public class Test {
	public static void main(String[] args) {
		String resource = "mybatis.xml";
		Reader resourceAsReader = Resources.getResourceAsReader(resource);
		// session 会话工厂
		SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(resourceAsReader);
		// 获取会话
		SqlSession openSession = sqlSessionFactory.openSession();

		String statement = "org.liaohailong.mybatis.UserMapper.getUser";
		User selectOne = openSession.selectOne(statement, 1);
		System.out.println(selectOne.toString());
		openSession.close();
	}
}
